<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 2 R básicos | Introducción a la Ciencia de Datos</title>
  <meta name="description" content="Este libro presenta conceptos y habilidades que pueden ayudar a abordar desafíos de mundo real de análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y aprendizaje automático y te ayuda a desarrollar habilidades como la programación R, disputa de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 2 R básicos | Introducción a la Ciencia de Datos" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este libro presenta conceptos y habilidades que pueden ayudar a abordar desafíos de mundo real de análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y aprendizaje automático y te ayuda a desarrollar habilidades como la programación R, disputa de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 2 R básicos | Introducción a la Ciencia de Datos" />
  
  <meta name="twitter:description" content="Este libro presenta conceptos y habilidades que pueden ayudar a abordar desafíos de mundo real de análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y aprendizaje automático y te ayuda a desarrollar habilidades como la programación R, disputa de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  

<meta name="author" content="Rafael A. Irizarry" />


<meta name="date" content="2020-03-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html">
<link rel="next" href="conceptos-basicos-de-programacion.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a la Ciencia de Datos</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="" data-path="agradecimientos.html"><a href="agradecimientos.html"><i class="fa fa-check"></i>Agradecimientos</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#estudios-de-caso"><i class="fa fa-check"></i>Estudios de caso</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#quien-encontrara-util-este-libro"><i class="fa fa-check"></i>¿Quién encontrará útil este libro?</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#que-cubre-este-libro"><i class="fa fa-check"></i>¿Que cubre este libro?</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#que-no-cubre-este-libro"><i class="fa fa-check"></i>¿Qué no cubre este libro?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Comenzando con R y RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#por-que-r"><i class="fa fa-check"></i><b>1.1</b> ¿Por qué R?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#la-consola-r"><i class="fa fa-check"></i><b>1.2</b> La consola R</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#guiones"><i class="fa fa-check"></i><b>1.3</b> Guiones</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.4</b> RStudio</a><ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#los-paneles"><i class="fa fa-check"></i><b>1.4.1</b> Los paneles</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#atajos-de-teclado"><i class="fa fa-check"></i><b>1.4.2</b> Atajos de teclado</a></li>
<li class="chapter" data-level="1.4.3" data-path="getting-started.html"><a href="getting-started.html#ejecutando-comandos-mientras-edita-scripts"><i class="fa fa-check"></i><b>1.4.3</b> Ejecutando comandos mientras edita scripts</a></li>
<li class="chapter" data-level="1.4.4" data-path="getting-started.html"><a href="getting-started.html#cambio-de-opciones-globales"><i class="fa fa-check"></i><b>1.4.4</b> Cambio de opciones globales</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#instalacion-de-paquetes-r"><i class="fa fa-check"></i><b>1.5</b> Instalación de paquetes R</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R básicos</a><ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#estudio-de-caso-asesinatos-de-armas"><i class="fa fa-check"></i><b>2.1</b> Estudio de caso: asesinatos de armas</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#los-muy-basicos"><i class="fa fa-check"></i><b>2.2</b> Los muy básicos</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics.html"><a href="r-basics.html#objetos"><i class="fa fa-check"></i><b>2.2.1</b> Objetos</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics.html"><a href="r-basics.html#el-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.2</b> El espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-basics.html"><a href="r-basics.html#funciones"><i class="fa fa-check"></i><b>2.2.3</b> Funciones</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-basics.html"><a href="r-basics.html#otros-objetos-preconstruidos"><i class="fa fa-check"></i><b>2.2.4</b> Otros objetos preconstruidos</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-basics.html"><a href="r-basics.html#nombres-de-variables"><i class="fa fa-check"></i><b>2.2.5</b> Nombres de variables</a></li>
<li class="chapter" data-level="2.2.6" data-path="r-basics.html"><a href="r-basics.html#guardar-su-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.6</b> Guardar su espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.7" data-path="r-basics.html"><a href="r-basics.html#scripts-motivadores"><i class="fa fa-check"></i><b>2.2.7</b> Scripts motivadores</a></li>
<li class="chapter" data-level="2.2.8" data-path="r-basics.html"><a href="r-basics.html#comentando-tu-codigo"><i class="fa fa-check"></i><b>2.2.8</b> Comentando tu código</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#ejercicios"><i class="fa fa-check"></i><b>2.3</b> Ejercicios</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#tipos-de-datos"><i class="fa fa-check"></i><b>2.4</b> Tipos de datos</a><ul>
<li class="chapter" data-level="2.4.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>2.4.1</b> Marcos de datos</a></li>
<li class="chapter" data-level="2.4.2" data-path="r-basics.html"><a href="r-basics.html#examinando-un-objeto"><i class="fa fa-check"></i><b>2.4.2</b> Examinando un objeto</a></li>
<li class="chapter" data-level="2.4.3" data-path="r-basics.html"><a href="r-basics.html#el-descriptor-de-acceso"><i class="fa fa-check"></i><b>2.4.3</b> El descriptor de acceso: <code>$</code></a></li>
<li class="chapter" data-level="2.4.4" data-path="r-basics.html"><a href="r-basics.html#vectores-numericos-caracteres-y-logicos"><i class="fa fa-check"></i><b>2.4.4</b> Vectores: numéricos, caracteres y lógicos</a></li>
<li class="chapter" data-level="2.4.5" data-path="r-basics.html"><a href="r-basics.html#factors"><i class="fa fa-check"></i><b>2.4.5</b> Factores</a></li>
<li class="chapter" data-level="2.4.6" data-path="r-basics.html"><a href="r-basics.html#listas"><i class="fa fa-check"></i><b>2.4.6</b> Listas</a></li>
<li class="chapter" data-level="2.4.7" data-path="r-basics.html"><a href="r-basics.html#matrices"><i class="fa fa-check"></i><b>2.4.7</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#ejercicios-1"><i class="fa fa-check"></i><b>2.5</b> Ejercicios</a></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#vectores"><i class="fa fa-check"></i><b>2.6</b> Vectores</a><ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics.html"><a href="r-basics.html#crear-vectores"><i class="fa fa-check"></i><b>2.6.1</b> Crear vectores</a></li>
<li class="chapter" data-level="2.6.2" data-path="r-basics.html"><a href="r-basics.html#nombres"><i class="fa fa-check"></i><b>2.6.2</b> Nombres</a></li>
<li class="chapter" data-level="2.6.3" data-path="r-basics.html"><a href="r-basics.html#secuencias"><i class="fa fa-check"></i><b>2.6.3</b> Secuencias</a></li>
<li class="chapter" data-level="2.6.4" data-path="r-basics.html"><a href="r-basics.html#subconjunto"><i class="fa fa-check"></i><b>2.6.4</b> Subconjunto</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#coercion"><i class="fa fa-check"></i><b>2.7</b> Coerción</a><ul>
<li class="chapter" data-level="2.7.1" data-path="r-basics.html"><a href="r-basics.html#no-disponible-na"><i class="fa fa-check"></i><b>2.7.1</b> No disponible (NA)</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#ejercicios-2"><i class="fa fa-check"></i><b>2.8</b> Ejercicios</a></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#clasificacion"><i class="fa fa-check"></i><b>2.9</b> Clasificación</a><ul>
<li class="chapter" data-level="2.9.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>2.9.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="2.9.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>2.9.2</b> <code>order</code></a></li>
<li class="chapter" data-level="2.9.3" data-path="r-basics.html"><a href="r-basics.html#max-y-which.max"><i class="fa fa-check"></i><b>2.9.3</b> <code>max</code> y <code>which.max</code></a></li>
<li class="chapter" data-level="2.9.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>2.9.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="2.9.5" data-path="r-basics.html"><a href="r-basics.html#cuidado-con-el-reciclaje"><i class="fa fa-check"></i><b>2.9.5</b> Cuidado con el reciclaje</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#ejercicios-3"><i class="fa fa-check"></i><b>2.10</b> Ejercicios</a></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#aritmetica-de-vectores"><i class="fa fa-check"></i><b>2.11</b> Aritmética de vectores</a><ul>
<li class="chapter" data-level="2.11.1" data-path="r-basics.html"><a href="r-basics.html#reescalando-un-vector"><i class="fa fa-check"></i><b>2.11.1</b> Reescalando un vector</a></li>
<li class="chapter" data-level="2.11.2" data-path="r-basics.html"><a href="r-basics.html#dos-vectores"><i class="fa fa-check"></i><b>2.11.2</b> Dos vectores</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="r-basics.html"><a href="r-basics.html#ejercicios-4"><i class="fa fa-check"></i><b>2.12</b> Ejercicios</a></li>
<li class="chapter" data-level="2.13" data-path="r-basics.html"><a href="r-basics.html#indexacion"><i class="fa fa-check"></i><b>2.13</b> Indexación</a><ul>
<li class="chapter" data-level="2.13.1" data-path="r-basics.html"><a href="r-basics.html#subconjunto-con-logicas"><i class="fa fa-check"></i><b>2.13.1</b> Subconjunto con lógicas</a></li>
<li class="chapter" data-level="2.13.2" data-path="r-basics.html"><a href="r-basics.html#operadores-logicos"><i class="fa fa-check"></i><b>2.13.2</b> Operadores logicos</a></li>
<li class="chapter" data-level="2.13.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>2.13.3</b> <code>which</code></a></li>
<li class="chapter" data-level="2.13.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>2.13.4</b> <code>match</code></a></li>
<li class="chapter" data-level="2.13.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>2.13.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="r-basics.html"><a href="r-basics.html#ejercicios-5"><i class="fa fa-check"></i><b>2.14</b> Ejercicios</a></li>
<li class="chapter" data-level="2.15" data-path="r-basics.html"><a href="r-basics.html#parcelas-basicas"><i class="fa fa-check"></i><b>2.15</b> Parcelas básicas</a><ul>
<li class="chapter" data-level="2.15.1" data-path="r-basics.html"><a href="r-basics.html#plot"><i class="fa fa-check"></i><b>2.15.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="2.15.2" data-path="r-basics.html"><a href="r-basics.html#hist"><i class="fa fa-check"></i><b>2.15.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="2.15.3" data-path="r-basics.html"><a href="r-basics.html#boxplot"><i class="fa fa-check"></i><b>2.15.3</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="2.15.4" data-path="r-basics.html"><a href="r-basics.html#image"><i class="fa fa-check"></i><b>2.15.4</b> <code>image</code></a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="r-basics.html"><a href="r-basics.html#ejercicios-6"><i class="fa fa-check"></i><b>2.16</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html"><i class="fa fa-check"></i><b>3</b> Conceptos básicos de programación</a><ul>
<li class="chapter" data-level="3.1" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#conditionals"><i class="fa fa-check"></i><b>3.1</b> Expresiones condicionales</a></li>
<li class="chapter" data-level="3.2" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#definiendo-funciones"><i class="fa fa-check"></i><b>3.2</b> Definiendo funciones</a></li>
<li class="chapter" data-level="3.3" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#espacios-de-nombres"><i class="fa fa-check"></i><b>3.3</b> Espacios de nombres</a></li>
<li class="chapter" data-level="3.4" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#for-loops"><i class="fa fa-check"></i><b>3.4</b> For-loops</a></li>
<li class="chapter" data-level="3.5" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#vectorization"><i class="fa fa-check"></i><b>3.5</b> Vectorización y funcionales</a></li>
<li class="chapter" data-level="3.6" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#ejercicios-7"><i class="fa fa-check"></i><b>3.6</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> El tidyverse</a><ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.1</b> Datos ordenados</a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-8"><i class="fa fa-check"></i><b>4.2</b> Ejercicios</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#manipulacion-de-marcos-de-datos"><i class="fa fa-check"></i><b>4.3</b> Manipulación de marcos de datos</a><ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#agregar-una-columna-con-mutate"><i class="fa fa-check"></i><b>4.3.1</b> Agregar una columna con <code>mutate</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="tidyverse.html"><a href="tidyverse.html#subconjunto-con-filter"><i class="fa fa-check"></i><b>4.3.2</b> Subconjunto con <code>filter</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="tidyverse.html"><a href="tidyverse.html#seleccionar-columnas-con-select"><i class="fa fa-check"></i><b>4.3.3</b> Seleccionar columnas con <code>select</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-9"><i class="fa fa-check"></i><b>4.4</b> Ejercicios</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#el-tubo"><i class="fa fa-check"></i><b>4.5</b> El tubo: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-10"><i class="fa fa-check"></i><b>4.6</b> Ejercicios</a></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#resumiendo-datos"><i class="fa fa-check"></i><b>4.7</b> Resumiendo datos</a><ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#summarize"><i class="fa fa-check"></i><b>4.7.1</b> <code>summarize</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="tidyverse.html"><a href="tidyverse.html#pull"><i class="fa fa-check"></i><b>4.7.2</b> <code>pull</code></a></li>
<li class="chapter" data-level="4.7.3" data-path="tidyverse.html"><a href="tidyverse.html#group-by"><i class="fa fa-check"></i><b>4.7.3</b> Agrupe y luego resuma con <code>group_by</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#ordenar-marcos-de-datos"><i class="fa fa-check"></i><b>4.8</b> Ordenar marcos de datos</a><ul>
<li class="chapter" data-level="4.8.1" data-path="tidyverse.html"><a href="tidyverse.html#clasificacion-anidada"><i class="fa fa-check"></i><b>4.8.1</b> Clasificación anidada</a></li>
<li class="chapter" data-level="4.8.2" data-path="tidyverse.html"><a href="tidyverse.html#la-parte-superior-n"><i class="fa fa-check"></i><b>4.8.2</b> La parte superior <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-11"><i class="fa fa-check"></i><b>4.9</b> Ejercicios</a></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.10</b> Tibbles</a><ul>
<li class="chapter" data-level="4.10.1" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-se-muestran-mejor"><i class="fa fa-check"></i><b>4.10.1</b> Tibbles se muestran mejor</a></li>
<li class="chapter" data-level="4.10.2" data-path="tidyverse.html"><a href="tidyverse.html#los-subconjuntos-de-tibbles-son-tibbles"><i class="fa fa-check"></i><b>4.10.2</b> Los subconjuntos de tibbles son tibbles</a></li>
<li class="chapter" data-level="4.10.3" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-puede-tener-entradas-complejas"><i class="fa fa-check"></i><b>4.10.3</b> Tibbles puede tener entradas complejas</a></li>
<li class="chapter" data-level="4.10.4" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-se-pueden-agrupar"><i class="fa fa-check"></i><b>4.10.4</b> Tibbles se pueden agrupar</a></li>
<li class="chapter" data-level="4.10.5" data-path="tidyverse.html"><a href="tidyverse.html#crear-un-tibble-usando-tibble-en-lugar-de-data.frame"><i class="fa fa-check"></i><b>4.10.5</b> Crear un tibble usando <code>tibble</code> en lugar de <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#el-operador-punto"><i class="fa fa-check"></i><b>4.11</b> El operador punto</a></li>
<li class="chapter" data-level="4.12" data-path="tidyverse.html"><a href="tidyverse.html#do"><i class="fa fa-check"></i><b>4.12</b> <code>do</code></a></li>
<li class="chapter" data-level="4.13" data-path="tidyverse.html"><a href="tidyverse.html#el-paquete-purrr"><i class="fa fa-check"></i><b>4.13</b> El paquete <strong>purrr</strong></a></li>
<li class="chapter" data-level="4.14" data-path="tidyverse.html"><a href="tidyverse.html#tidyverse-condicionales"><i class="fa fa-check"></i><b>4.14</b> Tidyverse condicionales</a><ul>
<li class="chapter" data-level="4.14.1" data-path="tidyverse.html"><a href="tidyverse.html#case_when"><i class="fa fa-check"></i><b>4.14.1</b> <code>case_when</code></a></li>
<li class="chapter" data-level="4.14.2" data-path="tidyverse.html"><a href="tidyverse.html#between"><i class="fa fa-check"></i><b>4.14.2</b> <code>between</code></a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-12"><i class="fa fa-check"></i><b>4.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>5</b> Importando datos</a><ul>
<li class="chapter" data-level="5.1" data-path="importing-data.html"><a href="importing-data.html#rutas-y-el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1</b> Rutas y el directorio de trabajo</a><ul>
<li class="chapter" data-level="5.1.1" data-path="importing-data.html"><a href="importing-data.html#el-sistema-de-archivos"><i class="fa fa-check"></i><b>5.1.1</b> El sistema de archivos</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-data.html"><a href="importing-data.html#caminos-relativos-y-completos"><i class="fa fa-check"></i><b>5.1.2</b> Caminos relativos y completos</a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-data.html"><a href="importing-data.html#el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1.3</b> El directorio de trabajo</a></li>
<li class="chapter" data-level="5.1.4" data-path="importing-data.html"><a href="importing-data.html#generando-nombres-de-ruta"><i class="fa fa-check"></i><b>5.1.4</b> Generando nombres de ruta</a></li>
<li class="chapter" data-level="5.1.5" data-path="importing-data.html"><a href="importing-data.html#copiando-archivos-usando-rutas"><i class="fa fa-check"></i><b>5.1.5</b> Copiando archivos usando rutas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-data.html"><a href="importing-data.html#los-paquetes-readr-y-readxl"><i class="fa fa-check"></i><b>5.2</b> Los paquetes readr y readxl</a><ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data.html"><a href="importing-data.html#lector"><i class="fa fa-check"></i><b>5.2.1</b> lector</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>5.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data.html"><a href="importing-data.html#ejercicios-13"><i class="fa fa-check"></i><b>5.3</b> Ejercicios</a></li>
<li class="chapter" data-level="5.4" data-path="importing-data.html"><a href="importing-data.html#descargando-archivos"><i class="fa fa-check"></i><b>5.4</b> Descargando archivos</a></li>
<li class="chapter" data-level="5.5" data-path="importing-data.html"><a href="importing-data.html#funciones-de-importacion-de-base-r"><i class="fa fa-check"></i><b>5.5</b> Funciones de importación de base R</a><ul>
<li class="chapter" data-level="5.5.1" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><b>5.5.1</b> <code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-data.html"><a href="importing-data.html#texto-versus-archivos-binarios"><i class="fa fa-check"></i><b>5.6</b> Texto versus archivos binarios</a></li>
<li class="chapter" data-level="5.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>5.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="5.8" data-path="importing-data.html"><a href="importing-data.html#organizando-datos-con-hojas-de-calculo"><i class="fa fa-check"></i><b>5.8</b> Organizando datos con hojas de cálculo</a></li>
<li class="chapter" data-level="5.9" data-path="importing-data.html"><a href="importing-data.html#ejercicios-14"><i class="fa fa-check"></i><b>5.9</b> Ejercicios</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a la Ciencia de Datos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-basics" class="section level1">
<h1><span class="header-section-number">Capítulo 2</span> R básicos</h1>
<p>En este libro, utilizaremos el entorno de software R para todos nuestros análisis. Aprenderá R y técnicas de análisis de datos simultáneamente. Para seguir, por lo tanto, necesitará acceso a R. También recomendamos el uso de un <em>entorno de desarrollo integrado</em> (IDE), como RStudio, para guardar su trabajo. Tenga en cuenta que es común que un curso o taller ofrezca acceso a un entorno R y un IDE a través de su navegador web, como lo hace RStudio cloud<a href="#fn10" class="footnoteRef" id="fnref10"><sup>10</sup></a>. Si tiene acceso a dicho recurso, no necesita instalar R y RStudio. Sin embargo, si tiene la intención de convertirse en un analista de datos avanzado, recomendamos instalar estas herramientas en su computadora<a href="#fn11" class="footnoteRef" id="fnref11"><sup>11</sup></a>. Tanto R como RStudio son gratuitos y están disponibles en línea.</p>
<div id="estudio-de-caso-asesinatos-de-armas" class="section level2">
<h2><span class="header-section-number">2.1</span> Estudio de caso: asesinatos de armas</h2>
<p>Imagine que vive en Europa y se le ofrece un trabajo en una empresa estadounidense con muchas ubicaciones en todos los estados. Es un gran trabajo, pero noticias con titulares como ** Tasa de homicidios con armas de fuego de EE. UU. Más alta que otros países desarrollados **<a href="#fn12" class="footnoteRef" id="fnref12"><sup>12</sup></a> ¿te preocupa? Gráficos como este pueden preocuparte aún más:</p>
<p><img src="libro_files/figure-html/murder-rate-example-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<!--(Source:
[Ma&#39;ayan Rosenzweigh/ ABC News] (https://abcnews.go.com/blogs/headlines/2012/12/us-gun-ownership-homicide-rate-higher-than-other-developed-countries/), Datos de las estadísticas de homicidios de la UNODC) ->


O peor aún, esta versión de [everytown.org] (https://everytownresearch.org):
<img src="libro_files/figure-html/murder-rate-example-2-1.png" width="70%" style="display: block; margin: auto;" />

<!--(Source [everytown.org](https://everytownresearch.org))-->
<p>Pero entonces recuerdas que Estados Unidos es un país grande y diverso con 50 estados muy diferentes, así como el Distrito de Columbia (DC).</p>
<p><img src="libro_files/figure-html/us-murders-by-state-map-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>California, por ejemplo, tiene una población más grande que Canadá, y 20 estados de EE. UU. Tienen poblaciones más grandes que la de Noruega. En algunos aspectos, la variabilidad entre los estados de los EE. UU. Es similar a la variabilidad entre los países de Europa. Además, aunque no se incluye en los cuadros anteriores, las tasas de asesinatos en Lituania, Ucrania y Rusia son superiores a 4 por cada 100.000. Entonces, tal vez las noticias informan que te preocupa que seas demasiado superficial. Tiene opciones de dónde vivir y desea determinar la seguridad de cada estado en particular. Obtendremos algunas ideas al examinar datos relacionados con homicidios con armas de fuego en los EE. UU. Durante 2010 usando R.</p>
<p>Antes de comenzar con nuestro ejemplo, necesitamos cubrir la logística, así como algunos de los componentes básicos que se requieren para obtener habilidades de R más avanzadas. Tenga en cuenta que la utilidad de algunos de estos bloques de construcción puede no ser obvia de inmediato, pero más adelante en el libro apreciará haber dominado estas habilidades.</p>
</div>
<div id="los-muy-basicos" class="section level2">
<h2><span class="header-section-number">2.2</span> Los muy básicos</h2>
<p>Antes de comenzar con el motivador conjunto de datos, necesitamos cubrir los conceptos básicos de R.</p>
<div id="objetos" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Objetos</h3>
<p>Supongamos que un estudiante de secundaria nos pide ayuda para resolver varias ecuaciones cuadráticas de la forma <span class="math inline">\(ax^2+bx+c = 0\)</span>. La fórmula cuadrática nos da las soluciones:</p>
<p><span class="math display">\[
\frac{-b - \sqrt{b^2 - 4ac}}{2a}\,\, \mbox{ and } \frac{-b + \sqrt{b^2 - 4ac}}{2a}
\]</span> que por supuesto cambian dependiendo de los valores de <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span> y <span class="math inline">\(c\)</span>. Una ventaja de los lenguajes de programación es que podemos definir variables y escribir expresiones con estas variables, de forma similar a como lo hacemos en matemáticas, pero obtener una solución numérica. Escribiremos un código general para la ecuación cuadrática a continuación, pero si se nos pide resolver <span class="math inline">\(x^2 + x -1 = 0\)</span>, luego definimos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">1</span>
b &lt;-<span class="st"> </span><span class="dv">1</span>
c &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span></code></pre></div>
<p>que almacena los valores para su uso posterior. Usamos <code>&lt;-</code> para asignar valores a las variables.</p>
<p>También podemos asignar valores usando <code>=</code> en lugar de <code>&lt;-</code>, pero recomendamos no usar <code>=</code> para evitar confusión.</p>
<p>Copie y pegue el código anterior en su consola para definir las tres variables. Tenga en cuenta que R no imprime nada cuando hacemos esta asignación. Esto significa que los objetos se definieron con éxito. Si hubiera cometido un error, habría recibido un mensaje de error.</p>
<p>Para ver el valor almacenado en una variable, simplemente le pedimos a R que evalúe <code>a</code> y muestra el valor almacenado:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a
<span class="co">#&gt; [1] 1</span></code></pre></div>
<p>Una forma más explícita de pedirle a R que nos muestre el valor almacenado en <code>a</code> esta usando <code>print</code> me gusta esto:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(a)
<span class="co">#&gt; [1] 1</span></code></pre></div>
<p>Usamos el término <em>objeto</em> para describir cosas que están almacenadas en R. Las variables son ejemplos, pero los objetos también pueden ser entidades más complicadas como funciones, que se describen más adelante.</p>
</div>
<div id="el-espacio-de-trabajo" class="section level3">
<h3><span class="header-section-number">2.2.2</span> El espacio de trabajo</h3>
<p>A medida que definimos objetos en la consola, en realidad estamos cambiando el <em>workspace</em>. Puede ver todas las variables guardadas en su espacio de trabajo escribiendo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ls</span>()
<span class="co">#&gt; [1] &quot;a&quot;        &quot;b&quot;        &quot;c&quot;        &quot;dat&quot;      &quot;img_path&quot; &quot;murders&quot;</span></code></pre></div>
<p>En RStudio, la pestaña <em>Environment</em> muestra los valores:</p>
<p><img src="R/img/rstudio-environment.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Deberíamos ver <code>a</code>, <code>b</code> y <code>c</code>. Si intenta recuperar el valor de una variable que no está en su espacio de trabajo, recibirá un error. Por ejemplo, si escribe <code>x</code> recibirás el siguiente mensaje: <code>Error: object 'x' not found</code>.</p>
<p>Ahora, dado que estos valores se guardan en variables, para obtener una solución a nuestra ecuación, utilizamos la fórmula cuadrática:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(<span class="op">-</span>b <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c) )<span class="op">/</span><span class="st"> </span>( <span class="dv">2</span><span class="op">*</span>a )
<span class="co">#&gt; [1] 0.618</span>
(<span class="op">-</span>b <span class="op">-</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c) )<span class="op">/</span><span class="st"> </span>( <span class="dv">2</span><span class="op">*</span>a )
<span class="co">#&gt; [1] -1.62</span></code></pre></div>
</div>
<div id="funciones" class="section level3">
<h3><span class="header-section-number">2.2.3</span> Funciones</h3>
<p>Una vez que defina las variables, el proceso de análisis de datos generalmente se puede describir como una serie de <em>funciones</em> aplicadas a los datos. R incluye varias funciones predefinidas y la mayoría de las líneas de análisis que construimos hacen un uso extensivo de ellas.</p>
<p>Ya usamos el <code>install.packages</code>, <code>library</code> y <code>ls</code> funciones También usamos la función <code>sqrt</code> para resolver la ecuación cuadrática de arriba. Hay muchas más funciones preconstruidas y aún más se pueden agregar a través de paquetes. Estas funciones no aparecen en el espacio de trabajo porque no las definió, pero están disponibles para su uso inmediato.</p>
<p>En general, necesitamos usar paréntesis para evaluar una función. Si escribes <code>ls</code>, la función no se evalúa y en su lugar R le muestra el código que define la función. Si escribes <code>ls()</code> la función se evalúa y, como se ve arriba, vemos objetos en el espacio de trabajo.</p>
<p>Diferente a <code>ls</code>, la mayoría de las funciones requieren uno o más <em>argumentos</em>. A continuación se muestra un ejemplo de cómo asignamos un objeto al argumento de la función <code>log</code>. Recuerda que anteriormente definimos <code>a</code> ser 1:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">8</span>)
<span class="co">#&gt; [1] 2.08</span>
<span class="kw">log</span>(a)
<span class="co">#&gt; [1] 0</span></code></pre></div>
<p>Puede averiguar qué espera la función y qué hace revisando los manuales muy útiles incluidos en R. Puede obtener ayuda utilizando el <code>help</code> funciona así:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">help</span>(<span class="st">&quot;log&quot;</span>)</code></pre></div>
<p>Para la mayoría de las funciones, también podemos usar esta abreviatura:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?log</code></pre></div>
<p>La página de ayuda le mostrará qué argumentos espera la función. Por ejemplo, <code>log</code> necesidades <code>x</code> y <code>base</code> correr. Sin embargo, algunos argumentos son obligatorios y otros son opcionales. Puede determinar qué argumentos son opcionales observando en el documento de ayuda que se asigna un valor predeterminado con <code>=</code>. Definir esto es opcional. Por ejemplo, la base de la función <code>log</code> por defecto es <code>base = exp(1)</code> haciendo <code>log</code> el registro natural por defecto.</p>
<p>Si desea echar un vistazo rápido a los argumentos sin abrir el sistema de ayuda, puede escribir:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">args</span>(log)
<span class="co">#&gt; function (x, base = exp(1)) </span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p>Puede cambiar los valores predeterminados simplemente asignando otro objeto:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">8</span>, <span class="dt">base =</span> <span class="dv">2</span>)
<span class="co">#&gt; [1] 3</span></code></pre></div>
<p>Tenga en cuenta que no hemos estado especificando el argumento <code>x</code> como tal:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dt">x =</span> <span class="dv">8</span>, <span class="dt">base =</span> <span class="dv">2</span>)
<span class="co">#&gt; [1] 3</span></code></pre></div>
<p>El código anterior funciona, pero podemos ahorrarnos algo de tipeo: si no se usa un nombre de argumento, R asume que está ingresando argumentos en el orden que se muestra en el archivo de ayuda o por <code>args</code>. Entonces, al no usar los nombres, se supone que los argumentos son <code>x</code> seguido por <code>base</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dv">8</span>,<span class="dv">2</span>)
<span class="co">#&gt; [1] 3</span></code></pre></div>
<p>Si usa los nombres de los argumentos, podemos incluirlos en el orden que queramos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(<span class="dt">base =</span> <span class="dv">2</span>, <span class="dt">x =</span> <span class="dv">8</span>)
<span class="co">#&gt; [1] 3</span></code></pre></div>
<p>Para especificar argumentos, debemos usar <code>=</code> y no puede usar <code>&lt;-</code>.</p>
<p>Hay algunas excepciones a la regla de que las funciones necesitan los paréntesis para ser evaluadas. Entre estos, los más utilizados son los operadores aritméticos y relacionales. Por ejemplo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span><span class="op">^</span><span class="dv">3</span>
<span class="co">#&gt; [1] 8</span></code></pre></div>
<p>Puede ver los operadores aritméticos escribiendo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">help</span>(<span class="st">&quot;+&quot;</span>)</code></pre></div>
<p>o</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?<span class="st">&quot;+&quot;</span></code></pre></div>
<p>y los operadores relacionales escribiendo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">help</span>(<span class="st">&quot;&gt;&quot;</span>)</code></pre></div>
<p>o</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?<span class="st">&quot;&gt;&quot;</span></code></pre></div>
</div>
<div id="otros-objetos-preconstruidos" class="section level3">
<h3><span class="header-section-number">2.2.4</span> Otros objetos preconstruidos</h3>
<p>Hay varios conjuntos de datos que se incluyen para que los usuarios practiquen y prueben funciones. Puede ver todos los conjuntos de datos disponibles escribiendo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>()</code></pre></div>
<p>Esto le muestra el nombre del objeto para estos conjuntos de datos. Estos conjuntos de datos son objetos que se pueden usar simplemente escribiendo el nombre. Por ejemplo, si escribe:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">co2</code></pre></div>
<p>R le mostrará los datos de concentración de CO2 atmosférico de Mauna Loa.</p>
<p>Otros objetos precompilados son cantidades matemáticas, como la constante <span class="math inline">\(\pi\)</span> y <span class="math inline">\(\infty\)</span>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pi
<span class="co">#&gt; [1] 3.14</span>
<span class="ot">Inf</span><span class="op">+</span><span class="dv">1</span>
<span class="co">#&gt; [1] Inf</span></code></pre></div>
</div>
<div id="nombres-de-variables" class="section level3">
<h3><span class="header-section-number">2.2.5</span> Nombres de variables</h3>
<p>Hemos usado las letras <code>a</code>, <code>b</code> y <code>c</code> como nombres de variables, pero los nombres de variables pueden ser casi cualquier cosa. Algunas reglas básicas en R son que los nombres de variables tienen que comenzar con una letra, no pueden contener espacios y no deben ser variables predefinidas en R. Por ejemplo, no nombre una de sus variables <code>install.packages</code> escribiendo algo como <code>install.packages &lt;- 2</code>.</p>
<p>Una buena convención a seguir es usar palabras significativas que describan lo que está almacenado, usar solo minúsculas y usar guiones bajos como sustituto de espacios. Para las ecuaciones cuadráticas, podríamos usar algo como esto:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">solution_<span class="dv">1</span> &lt;-<span class="st"> </span>(<span class="op">-</span>b <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)
solution_<span class="dv">2</span> &lt;-<span class="st"> </span>(<span class="op">-</span>b <span class="op">-</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)</code></pre></div>
<p>Para obtener más consejos, recomendamos estudiar la guía de estilo de Hadley Wickham<a href="#fn13" class="footnoteRef" id="fnref13"><sup>13</sup></a>.</p>
</div>
<div id="guardar-su-espacio-de-trabajo" class="section level3">
<h3><span class="header-section-number">2.2.6</span> Guardar su espacio de trabajo</h3>
<p>Los valores permanecen en el espacio de trabajo hasta que finalice su sesión o los borre con la función <code>rm</code>. Pero los espacios de trabajo también se pueden guardar para su uso posterior. De hecho, cuando sale de R, el programa le pregunta si desea guardar su espacio de trabajo. Si lo guarda, la próxima vez que inicie R, el programa restaurará el espacio de trabajo.</p>
<p>En realidad, recomendamos no guardar el espacio de trabajo de esta manera porque, a medida que comience a trabajar en diferentes proyectos, será más difícil hacer un seguimiento de lo que se guarda. En su lugar, le recomendamos que asigne al espacio de trabajo un nombre específico. Puedes hacer esto usando la función <code>save</code> o <code>save.image</code>. Para cargar, use la función <code>load</code>. Al guardar un espacio de trabajo, recomendamos el sufijo <code>rda</code> o <code>RData</code>. En RStudio, también puede hacerlo navegando a la pestaña <em>Sesión_y eligiendo_Guardar espacio de trabajo como</em>. Luego puede cargarlo usando las opciones <em>Load Workspace</em> en la misma pestaña. Puedes leer las páginas de ayuda en <code>save</code>, <code>save.image</code> y <code>load</code> aprender más.</p>
</div>
<div id="scripts-motivadores" class="section level3">
<h3><span class="header-section-number">2.2.7</span> Scripts motivadores</h3>
<p>Para resolver otra ecuación como <span class="math inline">\(3x^2 + 2x -1\)</span>, podemos copiar y pegar el código anterior y luego redefinir las variables y volver a calcular la solución:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">3</span>
b &lt;-<span class="st"> </span><span class="dv">2</span>
c &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span>
(<span class="op">-</span>b <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)
(<span class="op">-</span>b <span class="op">-</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)</code></pre></div>
<p>Al crear y guardar un script con el código anterior, no necesitaríamos volver a escribir todo cada vez y, en cambio, simplemente cambiar los nombres de las variables. Intente escribir la secuencia de comandos anterior en un editor y observe lo fácil que es cambiar las variables y recibir una respuesta.</p>
</div>
<div id="comentando-tu-codigo" class="section level3">
<h3><span class="header-section-number">2.2.8</span> Comentando tu código</h3>
<p>Si una línea de código R comienza con el símbolo <code>#</code>, no se evalúa Podemos usar esto para escribir recordatorios de por qué escribimos un código particular. Por ejemplo, en el script anterior, podríamos agregar:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Code to compute solution to quadratic equation of the form ax^2 + bx + c
## define the variables
a &lt;-<span class="st"> </span><span class="dv">3</span>
b &lt;-<span class="st"> </span><span class="dv">2</span>
c &lt;-<span class="st"> </span><span class="op">-</span><span class="dv">1</span>

## now compute the solution
(<span class="op">-</span>b <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)
(<span class="op">-</span>b <span class="op">-</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)</code></pre></div>
</div>
</div>
<div id="ejercicios" class="section level2">
<h2><span class="header-section-number">2.3</span> Ejercicios</h2>
<p>1. ¿Cuál es la suma de los primeros 100 enteros positivos? La fórmula para la suma de enteros. <span class="math inline">\(1\)</span> mediante <span class="math inline">\(n\)</span> es <span class="math inline">\(n(n+1)/2\)</span>. Definir <span class="math inline">\(n=100\)</span> y luego usa R para calcular la suma de <span class="math inline">\(1\)</span> mediante <span class="math inline">\(100\)</span> usando la fórmula ¿Cuál es la suma?</p>
<p>2. Ahora use la misma fórmula para calcular la suma de los enteros del 1 al 1,000.</p>
<p>3. Mira el resultado de escribir el siguiente código en R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">1000</span>
x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, n)
<span class="kw">sum</span>(x)</code></pre></div>
<p>En función del resultado, ¿cuáles crees que son las funciones? <code>seq</code> y <code>sum</code> ¿hacer? Puedes usar <code>help</code>.</p>
<ol style="list-style-type: lower-alpha">
<li><code>sum</code> crea una lista de números y <code>seq</code> los suma si. <code>seq</code> crea una lista de números y <code>sum</code> los suma</li>
<li><code>seq</code> crea una lista aleatoria y <code>sum</code> calcula la suma de 1 a 1,000. re. <code>sum</code> siempre devuelve el mismo número.</li>
</ol>
<p>4. En matemáticas y programación, decimos que evaluamos una función cuando reemplazamos el argumento con un número dado. Entonces si escribimos <code>sqrt(4)</code>, evaluamos el <code>sqrt</code> función. En R, puede evaluar una función dentro de otra función. Las evaluaciones suceden de adentro hacia afuera. Use una línea de código para calcular el registro, en base 10, de la raíz cuadrada de 100.</p>
<p>5. ¿Cuál de los siguientes siempre devolverá el valor numérico almacenado en <code>x</code>? Puede probar ejemplos y usar el sistema de ayuda si lo desea.</p>
<ol style="list-style-type: lower-alpha">
<li><code>log(10^x)</code> si. <code>log10(x^10)</code></li>
<li><code>log(exp(x))</code> re. <code>exp(log(x, base = 2))</code></li>
</ol>
</div>
<div id="tipos-de-datos" class="section level2">
<h2><span class="header-section-number">2.4</span> Tipos de datos</h2>
<p>Las variables en R pueden ser de diferentes tipos. Por ejemplo, necesitamos distinguir números de cadenas de caracteres y tablas de listas simples de números. La función <code>class</code> nos ayuda a determinar qué tipo de objeto tenemos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">2</span>
<span class="kw">class</span>(a)
<span class="co">#&gt; [1] &quot;numeric&quot;</span></code></pre></div>
<p>Para trabajar de manera eficiente en R, es importante aprender los diferentes tipos de variables y qué podemos hacer con ellas.</p>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Marcos de datos</h3>
<p>Hasta ahora, las variables que hemos definido son solo un número. Esto no es muy útil para almacenar datos. La forma más común de almacenar un conjunto de datos en R es en un marco de datos. Conceptualmente, podemos pensar en un marco de datos como una tabla con filas que representan observaciones y las diferentes variables informadas para cada observación que define las columnas. Los marcos de datos son particularmente útiles para conjuntos de datos porque podemos combinar diferentes tipos de datos en un solo objeto.</p>
<p>Una gran proporción de los desafíos del análisis de datos comienza con los datos almacenados en un marco de datos. Por ejemplo, almacenamos los datos para nuestro ejemplo motivador en un marco de datos. Puede acceder a este conjunto de datos cargando la biblioteca <strong>dslabs</strong> y cargando <code>murders</code> conjunto de datos utilizando el <code>data</code> función:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dslabs)
<span class="kw">data</span>(murders)</code></pre></div>
<p>Para ver que esto es de hecho un marco de datos, escribimos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(murders)
<span class="co">#&gt; [1] &quot;data.frame&quot;</span></code></pre></div>
</div>
<div id="examinando-un-objeto" class="section level3">
<h3><span class="header-section-number">2.4.2</span> Examinando un objeto</h3>
<p>La función <code>str</code> es útil para obtener más información sobre la estructura de un objeto:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(murders)
<span class="co">#&gt; &#39;data.frame&#39;:    51 obs. of  5 variables:</span>
<span class="co">#&gt; $ state : chr &quot;Alabama&quot; &quot;Alaska&quot; &quot;Arizona&quot; &quot;Arkansas&quot; ...</span>
<span class="co">#&gt; $ abb : chr &quot;AL&quot; &quot;AK&quot; &quot;AZ&quot; &quot;AR&quot; ...</span>
<span class="co">#&gt; $ region : Factor w/ 4 levels &quot;Northeast&quot;,&quot;South&quot;,..: 2 4 4 2 4 4 1 2 2</span>
<span class="co">#&gt;    2 ...</span>
<span class="co">#&gt; $ population: num 4779736 710231 6392017 2915918 37253956 ...</span>
<span class="co">#&gt; $ total : num 135 19 232 93 1257 ...</span></code></pre></div>
<p>Esto nos dice mucho más sobre el objeto. Vemos que la tabla tiene 51 filas (50 estados más DC) y cinco variables. Podemos mostrar las primeras seis líneas usando la función <code>head</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(murders)
<span class="co">#&gt;        state abb region population total</span>
<span class="co">#&gt; 1    Alabama  AL  South    4779736   135</span>
<span class="co">#&gt; 2     Alaska  AK   West     710231    19</span>
<span class="co">#&gt; 3    Arizona  AZ   West    6392017   232</span>
<span class="co">#&gt; 4   Arkansas  AR  South    2915918    93</span>
<span class="co">#&gt; 5 California  CA   West   37253956  1257</span>
<span class="co">#&gt; 6   Colorado  CO   West    5029196    65</span></code></pre></div>
<p>En este conjunto de datos, cada estado se considera una observación y se informan cinco variables para cada estado.</p>
<p>Antes de continuar con la respuesta a nuestra pregunta original sobre los diferentes estados, aprendamos más sobre los componentes de este objeto.</p>
</div>
<div id="el-descriptor-de-acceso" class="section level3">
<h3><span class="header-section-number">2.4.3</span> El descriptor de acceso: <code>$</code></h3>
<p>Para nuestro análisis, necesitaremos acceder a las diferentes variables representadas por columnas incluidas en este marco de datos. Para hacer esto, utilizamos el operador de acceso <code>$</code> de la siguiente manera:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">murders<span class="op">$</span>population
<span class="co">#&gt;  [1]  4779736   710231  6392017  2915918 37253956  5029196  3574097</span>
<span class="co">#&gt;  [8]   897934   601723 19687653  9920000  1360301  1567582 12830632</span>
<span class="co">#&gt; [15]  6483802  3046355  2853118  4339367  4533372  1328361  5773552</span>
<span class="co">#&gt; [22]  6547629  9883640  5303925  2967297  5988927   989415  1826341</span>
<span class="co">#&gt; [29]  2700551  1316470  8791894  2059179 19378102  9535483   672591</span>
<span class="co">#&gt; [36] 11536504  3751351  3831074 12702379  1052567  4625364   814180</span>
<span class="co">#&gt; [43]  6346105 25145561  2763885   625741  8001024  6724540  1852994</span>
<span class="co">#&gt; [50]  5686986   563626</span></code></pre></div>
<p>¿Pero cómo supimos usar <code>population</code>? Anteriormente, aplicando la función <code>str</code> al objeto <code>murders</code>, revelamos los nombres de cada una de las cinco variables almacenadas en esta tabla. Podemos acceder rápidamente a los nombres de las variables usando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(murders)
<span class="co">#&gt; [1] &quot;state&quot;      &quot;abb&quot;        &quot;region&quot;     &quot;population&quot; &quot;total&quot;</span></code></pre></div>
<p>Es importante saber que el orden de las entradas en <code>murders$population</code> conserva el orden de las filas en nuestra tabla de datos. Esto luego nos permitirá manipular una variable basada en los resultados de otra. Por ejemplo, podremos ordenar los nombres de los estados por el número de asesinatos.</p>
<p><strong>Consejo</strong>: R viene con una muy buena funcionalidad de autocompletar que nos ahorra la molestia de escribir todos los nombres. Intenta escribir <code>murders$p</code> luego presionando la tecla <em>tab</em> en su teclado. Esta funcionalidad y muchas otras funciones útiles de autocompletar están disponibles cuando se trabaja en RStudio.</p>
</div>
<div id="vectores-numericos-caracteres-y-logicos" class="section level3">
<h3><span class="header-section-number">2.4.4</span> Vectores: numéricos, caracteres y lógicos</h3>
<p>El objeto <code>murders$population</code> no es un número sino varios. Llamamos a este tipo de objetos <em>vectores</em>. Un solo número es técnicamente un vector de longitud 1, pero en general usamos el término vectores para referirnos a objetos con varias entradas. La función <code>length</code> te dice cuántas entradas hay en el vector:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pop &lt;-<span class="st"> </span>murders<span class="op">$</span>population
<span class="kw">length</span>(pop)
<span class="co">#&gt; [1] 51</span></code></pre></div>
<p>Este vector particular es <em>numeric</em> ya que los tamaños de población son números:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(pop)
<span class="co">#&gt; [1] &quot;numeric&quot;</span></code></pre></div>
<p>En un vector numérico, cada entrada debe ser un número.</p>
<p>Para almacenar cadenas de caracteres, los vectores también pueden ser de la clase <em>caracter</em>. Por ejemplo, los nombres de estado son caracteres:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(murders<span class="op">$</span>state)
<span class="co">#&gt; [1] &quot;character&quot;</span></code></pre></div>
<p>Al igual que con los vectores numéricos, todas las entradas en un vector de caracteres deben ser un carácter.</p>
<p>Otro tipo importante de vectores son los vectores lógicos. Estos deben ser <code>TRUE</code> o <code>FALSE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z &lt;-<span class="st"> </span><span class="dv">3</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span>
z
<span class="co">#&gt; [1] FALSE</span>
<span class="kw">class</span>(z)
<span class="co">#&gt; [1] &quot;logical&quot;</span></code></pre></div>
<p>Aquí el <code>==</code> es un operador relacional que pregunta si 3 es igual a 2. En R, si solo usa uno <code>=</code>, en realidad asigna una variable, pero si usa dos <code>==</code> prueba para la igualdad.</p>
<p>Puede ver los otros operadores relacionales escribiendo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?Comparison</code></pre></div>
<p>En secciones futuras, verá cuán útiles pueden ser los operadores relacionales.</p>
<p>Discutimos características más importantes de los vectores después del siguiente conjunto de ejercicios.</p>
<p><strong>Avanzado</strong>: Matemáticamente, los valores en <code>pop</code> son enteros y hay una clase de enteros en R. Sin embargo, de manera predeterminada, a los números se les asigna una clase numérica incluso cuando son enteros redondos. Por ejemplo, <code>class(1)</code> devuelve numérico Puede convertirlos en un entero de clase con el <code>as.integer()</code> función o agregando un <code>L</code> me gusta esto: <code>1L</code>. Tenga en cuenta la clase escribiendo: <code>class(1L)</code></p>
</div>
<div id="factors" class="section level3">
<h3><span class="header-section-number">2.4.5</span> Factores</h3>
<p>En el <code>murders</code> conjunto de datos, podríamos esperar que la región también sea un vector de caracteres. Sin embargo, no es:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(murders<span class="op">$</span>region)
<span class="co">#&gt; [1] &quot;factor&quot;</span></code></pre></div>
<p>Es un <em>factor</em>. Los factores son útiles para almacenar datos categóricos. Podemos ver que solo hay 4 regiones utilizando el <code>levels</code> función:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">levels</span>(murders<span class="op">$</span>region)
<span class="co">#&gt; [1] &quot;Northeast&quot;     &quot;South&quot;         &quot;North Central&quot; &quot;West&quot;</span></code></pre></div>
<p>En el fondo, R almacena estos <em>niveles</em> como enteros y mantiene un mapa para realizar un seguimiento de las etiquetas. Esto es más eficiente en memoria que almacenar todos los caracteres.</p>
<p>Tenga en cuenta que los niveles tienen un orden que es diferente del orden de aparición en el objeto factor. El valor predeterminado es que los niveles sigan el orden alfabético. Sin embargo, a menudo queremos que los niveles sigan un orden diferente. Veremos varios ejemplos de esto en la parte de visualización de datos del libro. La función <code>reorder</code> nos permite cambiar el orden de los niveles de una variable de factor en función de un resumen calculado en un vector numérico. Vamos a demostrar esto con un simple ejemplo.</p>
<p>Supongamos que queremos los niveles de la región por el número total de asesinatos en lugar de por orden alfabético. Si hay valores asociados con cada nivel, podemos usar el <code>reorder</code> y especifique un resumen de datos para determinar el orden. El siguiente código toma la suma del total de asesinatos en cada región y reordena el factor siguiendo estas sumas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">region &lt;-<span class="st"> </span>murders<span class="op">$</span>region
value &lt;-<span class="st"> </span>murders<span class="op">$</span>total
region &lt;-<span class="st"> </span><span class="kw">reorder</span>(region, value, <span class="dt">FUN =</span> sum)
<span class="kw">levels</span>(region)
<span class="co">#&gt; [1] &quot;Northeast&quot;     &quot;North Central&quot; &quot;West&quot;          &quot;South&quot;</span></code></pre></div>
<p>El nuevo orden está de acuerdo con el hecho de que el noreste tiene menos asesinatos y el sur tiene más.</p>
<p><strong>Advertencia</strong>: los factores pueden ser una fuente de confusión, ya que a veces se comportan como personajes y otras no. Como resultado, los factores y caracteres confusos son una fuente común de errores.</p>
</div>
<div id="listas" class="section level3">
<h3><span class="header-section-number">2.4.6</span> Listas</h3>
<p>Los marcos de datos son un caso especial de <em>lists</em>. Cubriremos las listas con más detalle más adelante, pero sabemos que son útiles porque puede almacenar cualquier combinación de diferentes tipos. A continuación se muestra un ejemplo de una lista que creamos para usted:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">record
<span class="co">#&gt; $name</span>
<span class="co">#&gt; [1] &quot;John Doe&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $student_id</span>
<span class="co">#&gt; [1] 1234</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $grades</span>
<span class="co">#&gt; [1] 95 82 91 97 93</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $final_grade</span>
<span class="co">#&gt; [1] &quot;A&quot;</span>
<span class="kw">class</span>(record)
<span class="co">#&gt; [1] &quot;list&quot;</span></code></pre></div>
<p>Al igual que con los marcos de datos, puede extraer los componentes de una lista con el descriptor de acceso <code>$</code>. De hecho, los marcos de datos son un tipo de lista.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">record<span class="op">$</span>student_id
<span class="co">#&gt; [1] 1234</span></code></pre></div>
<p>También podemos usar corchetes dobles ( <code>[[</code>) me gusta esto:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">record[[<span class="st">&quot;student_id&quot;</span>]]
<span class="co">#&gt; [1] 1234</span></code></pre></div>
<p>Debería acostumbrarse al hecho de que en R, a menudo hay varias formas de hacer lo mismo, como acceder a las entradas.</p>
<p>También puede encontrar listas sin nombres de variables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">record2
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] &quot;John Doe&quot;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] 1234</span></code></pre></div>
<p>Si una lista no tiene nombres, no puede extraer los elementos con <code>$</code>, pero aún puede usar el método de corchetes y, en lugar de proporcionar el nombre de la variable, proporciona el índice de la lista, de esta manera:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">record2[[<span class="dv">1</span>]]
<span class="co">#&gt; [1] &quot;John Doe&quot;</span></code></pre></div>
<p>No usaremos listas hasta más tarde, pero puede encontrar uno en su propia exploración de R. Por esta razón, le mostramos algunos conceptos básicos aquí.</p>
</div>
<div id="matrices" class="section level3">
<h3><span class="header-section-number">2.4.7</span> Matrices</h3>
<p>Las matrices son otro tipo de objeto que son comunes en R. Las matrices son similares a los marcos de datos en que son bidimensionales: tienen filas y columnas. Sin embargo, al igual que los vectores numéricos, de caracteres y lógicos, las entradas en matrices deben ser del mismo tipo. Por esta razón, los marcos de datos son mucho más útiles para almacenar datos, ya que podemos tener caracteres, factores y números en ellos.</p>
<p>Sin embargo, las matrices tienen una gran ventaja sobre los marcos de datos: podemos realizar operaciones de álgebra matricial, un poderoso tipo de técnica matemática. No describimos estas operaciones en este libro, pero gran parte de lo que sucede en segundo plano cuando realiza un análisis de datos involucra matrices. Cubrimos las matrices con más detalle en el Capítulo <a href="#matrix-algebra"><strong>??</strong></a> pero descríbalos brevemente aquí, ya que algunas de las funciones que aprenderemos devuelven matrices.</p>
<p>Podemos definir una matriz usando el <code>matrix</code> función. Necesitamos especificar el número de filas y columnas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">3</span>)
mat
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,]    1    5    9</span>
<span class="co">#&gt; [2,]    2    6   10</span>
<span class="co">#&gt; [3,]    3    7   11</span>
<span class="co">#&gt; [4,]    4    8   12</span></code></pre></div>
<p>Puede acceder a entradas específicas en una matriz usando corchetes ( <code>[</code>) Si desea la segunda fila, tercera columna, usa:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mat[<span class="dv">2</span>, <span class="dv">3</span>]
<span class="co">#&gt; [1] 10</span></code></pre></div>
<p>Si desea toda la segunda fila, deje el lugar de la columna vacío:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mat[<span class="dv">2</span>, ]
<span class="co">#&gt; [1]  2  6 10</span></code></pre></div>
<p>Tenga en cuenta que esto devuelve un vector, no una matriz.</p>
<p>Del mismo modo, si desea la tercera columna completa, deje el lugar de la fila vacío:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mat[, <span class="dv">3</span>]
<span class="co">#&gt; [1]  9 10 11 12</span></code></pre></div>
<p>Esto también es un vector, no una matriz.</p>
<p>Puede acceder a más de una columna o más de una fila si lo desea. Esto te dará una nueva matriz.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mat[, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]
<span class="co">#&gt;      [,1] [,2]</span>
<span class="co">#&gt; [1,]    5    9</span>
<span class="co">#&gt; [2,]    6   10</span>
<span class="co">#&gt; [3,]    7   11</span>
<span class="co">#&gt; [4,]    8   12</span></code></pre></div>
<p>Puede subconjuntar tanto filas como columnas:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mat[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]
<span class="co">#&gt;      [,1] [,2]</span>
<span class="co">#&gt; [1,]    5    9</span>
<span class="co">#&gt; [2,]    6   10</span></code></pre></div>
<p>Podemos convertir matrices en marcos de datos usando la función <code>as.data.frame</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.data.frame</span>(mat)
<span class="co">#&gt;   V1 V2 V3</span>
<span class="co">#&gt; 1  1  5  9</span>
<span class="co">#&gt; 2  2  6 10</span>
<span class="co">#&gt; 3  3  7 11</span>
<span class="co">#&gt; 4  4  8 12</span></code></pre></div>
<p>También puede usar corchetes individuales ( <code>[</code>) para acceder a filas y columnas de un marco de datos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)
murders[<span class="dv">25</span>, <span class="dv">1</span>]
<span class="co">#&gt; [1] &quot;Mississippi&quot;</span>
murders[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>, ]
<span class="co">#&gt;     state abb region population total</span>
<span class="co">#&gt; 2  Alaska  AK   West     710231    19</span>
<span class="co">#&gt; 3 Arizona  AZ   West    6392017   232</span></code></pre></div>
</div>
</div>
<div id="ejercicios-1" class="section level2">
<h2><span class="header-section-number">2.5</span> Ejercicios</h2>
<p>1. Cargue el conjunto de datos de asesinatos de EE. UU.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dslabs)
<span class="kw">data</span>(murders)</code></pre></div>
<p>Usa la función <code>str</code> para examinar la estructura de la <code>murders</code> objeto. ¿Cuál de las siguientes opciones describe mejor las variables representadas en este marco de datos?</p>
<ol style="list-style-type: lower-alpha">
<li>Los 51 estados. si. Las tasas de asesinatos para los 50 estados y DC.</li>
<li>El nombre del estado, la abreviatura del nombre del estado, la región del estado y la población del estado y el número total de asesinatos para 2010. re. <code>str</code> no muestra información relevante.</li>
</ol>
<p>2. ¿Cuáles son los nombres de columna utilizados por el marco de datos para estas cinco variables?</p>
<p>3. Usa el descriptor de acceso <code>$</code> para extraer las abreviaturas de estado y asignarlas al objeto <code>a</code>. ¿Cuál es la clase de este objeto?</p>
<p>4. Ahora use los corchetes para extraer las abreviaturas de estado y asignarlas al objeto <code>b</code>. Utilizar el <code>identical</code> función para determinar si <code>a</code> y <code>b</code> son lo mismo.</p>
<p>5. Vimos que el <code>region</code> la columna almacena un factor. Puede corroborar esto escribiendo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(murders<span class="op">$</span>region)</code></pre></div>
<p>Con una línea de código, use la función <code>levels</code> y <code>length</code> para determinar el número de regiones definidas por este conjunto de datos.</p>
<p>6. La función <code>table</code> toma un vector y devuelve la frecuencia de cada elemento. Puede ver rápidamente cuántos estados hay en cada región aplicando esta función. Use esta función en una línea de código para crear una tabla de estados por región.</p>
</div>
<div id="vectores" class="section level2">
<h2><span class="header-section-number">2.6</span> Vectores</h2>
<p>En R, los objetos más básicos disponibles para almacenar datos son <em>vectores</em>. Como hemos visto, los conjuntos de datos complejos generalmente se pueden dividir en componentes que son vectores. Por ejemplo, en un marco de datos, cada columna es un vector. Aquí aprendemos más sobre esta importante clase.</p>
<div id="crear-vectores" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Crear vectores</h3>
<p>Podemos crear vectores usando la función <code>c</code>, que significa <em>concatenate</em>. Usamos <code>c</code> para concatenar entradas de la siguiente manera:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">codes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">380</span>, <span class="dv">124</span>, <span class="dv">818</span>)
codes
<span class="co">#&gt; [1] 380 124 818</span></code></pre></div>
<p>También podemos crear vectores de caracteres. Usamos las comillas para denotar que las entradas son caracteres en lugar de nombres de variables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">country &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;italy&quot;</span>, <span class="st">&quot;canada&quot;</span>, <span class="st">&quot;egypt&quot;</span>)</code></pre></div>
<p>En R también puedes usar comillas simples:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">country &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;italy&#39;</span>, <span class="st">&#39;canada&#39;</span>, <span class="st">&#39;egypt&#39;</span>)</code></pre></div>
<p>Pero tenga cuidado de no confundir la comilla simple ‘con la <em>back quote</em>’.</p>
<p>A estas alturas ya debería saber que si escribe:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">country &lt;-<span class="st"> </span><span class="kw">c</span>(italy, canada, egypt)</code></pre></div>
<p>recibes un error porque las variables <code>italy</code>, <code>canada</code> y <code>egypt</code> no están definidos. Si no usamos las comillas, R busca variables con esos nombres y devuelve un error.</p>
</div>
<div id="nombres" class="section level3">
<h3><span class="header-section-number">2.6.2</span> Nombres</h3>
<p>A veces es útil nombrar las entradas de un vector. Por ejemplo, al definir un vector de códigos de país, podemos usar los nombres para conectar los dos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">codes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">italy =</span> <span class="dv">380</span>, <span class="dt">canada =</span> <span class="dv">124</span>, <span class="dt">egypt =</span> <span class="dv">818</span>)
codes
<span class="co">#&gt;  italy canada  egypt </span>
<span class="co">#&gt;    380    124    818</span></code></pre></div>
<p>El objeto <code>codes</code> sigue siendo un vector numérico:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(codes)
<span class="co">#&gt; [1] &quot;numeric&quot;</span></code></pre></div>
<p>pero con nombres:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(codes)
<span class="co">#&gt; [1] &quot;italy&quot;  &quot;canada&quot; &quot;egypt&quot;</span></code></pre></div>
<p>Si el uso de cadenas sin comillas parece confuso, sepa que también puede usar las comillas:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">codes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;italy&quot;</span> =<span class="st"> </span><span class="dv">380</span>, <span class="st">&quot;canada&quot;</span> =<span class="st"> </span><span class="dv">124</span>, <span class="st">&quot;egypt&quot;</span> =<span class="st"> </span><span class="dv">818</span>)
codes
<span class="co">#&gt;  italy canada  egypt </span>
<span class="co">#&gt;    380    124    818</span></code></pre></div>
<p>No hay diferencia entre esta llamada de función y la anterior. Esta es una de las muchas formas en que R es peculiar en comparación con otros lenguajes.</p>
<p>También podemos asignar nombres usando el <code>names</code> funciones:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">codes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">380</span>, <span class="dv">124</span>, <span class="dv">818</span>)
country &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;italy&quot;</span>,<span class="st">&quot;canada&quot;</span>,<span class="st">&quot;egypt&quot;</span>)
<span class="kw">names</span>(codes) &lt;-<span class="st"> </span>country
codes
<span class="co">#&gt;  italy canada  egypt </span>
<span class="co">#&gt;    380    124    818</span></code></pre></div>
</div>
<div id="secuencias" class="section level3">
<h3><span class="header-section-number">2.6.3</span> Secuencias</h3>
<p>Otra función útil para crear vectores genera secuencias:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>)
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></code></pre></div>
<p>El primer argumento define el inicio, y el segundo define el final que se incluye. El valor predeterminado es subir en incrementos de 1, pero un tercer argumento nos permite decir cuánto saltar:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">2</span>)
<span class="co">#&gt; [1] 1 3 5 7 9</span></code></pre></div>
<p>Si queremos enteros consecutivos, podemos usar la siguiente taquigrafía:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></code></pre></div>
<p>Cuando usamos estas funciones, R produce números enteros, no numéricos, porque generalmente se usan para indexar algo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)
<span class="co">#&gt; [1] &quot;integer&quot;</span></code></pre></div>
<p>Sin embargo, si creamos una secuencia que incluye no enteros, la clase cambia:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="fl">0.5</span>))
<span class="co">#&gt; [1] &quot;numeric&quot;</span></code></pre></div>
</div>
<div id="subconjunto" class="section level3">
<h3><span class="header-section-number">2.6.4</span> Subconjunto</h3>
<p>Usamos corchetes para acceder a elementos específicos de un vector. Para el vector <code>codes</code> que definimos anteriormente, podemos acceder al segundo elemento usando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">codes[<span class="dv">2</span>]
<span class="co">#&gt; canada </span>
<span class="co">#&gt;    124</span></code></pre></div>
<p>Puede obtener más de una entrada utilizando un vector de entradas múltiples como índice:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">codes[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]
<span class="co">#&gt; italy egypt </span>
<span class="co">#&gt;   380   818</span></code></pre></div>
<p>Las secuencias definidas anteriormente son particularmente útiles si queremos acceder, digamos, a los dos primeros elementos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">codes[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]
<span class="co">#&gt;  italy canada </span>
<span class="co">#&gt;    380    124</span></code></pre></div>
<p>Si los elementos tienen nombres, también podemos acceder a las entradas utilizando estos nombres. A continuación hay dos ejemplos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">codes[<span class="st">&quot;canada&quot;</span>]
<span class="co">#&gt; canada </span>
<span class="co">#&gt;    124</span>
codes[<span class="kw">c</span>(<span class="st">&quot;egypt&quot;</span>,<span class="st">&quot;italy&quot;</span>)]
<span class="co">#&gt; egypt italy </span>
<span class="co">#&gt;   818   380</span></code></pre></div>
</div>
</div>
<div id="coercion" class="section level2">
<h2><span class="header-section-number">2.7</span> Coerción</h2>
<p>En general, <em>coercion</em> es un intento de R de ser flexible con los tipos de datos. Cuando una entrada no coincide con lo esperado, algunas de las funciones R preconstruidas intentan adivinar lo que significaba antes de arrojar un error. Esto también puede conducir a la confusión. Si no se comprende la <em>coerción</em>, los programadores pueden volverse locos al intentar codificar en R, ya que se comporta de manera bastante diferente a la mayoría de los otros idiomas a este respecto. Aprendamos sobre esto con algunos ejemplos.</p>
<p>Dijimos que los vectores deben ser todos del mismo tipo. Entonces, si tratamos de combinar, digamos, números y caracteres, puede esperar un error:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="st">&quot;canada&quot;</span>, <span class="dv">3</span>)</code></pre></div>
<p>¡Pero no tenemos uno, ni siquiera una advertencia! ¿Que pasó? Mirar <code>x</code> y su clase:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x
<span class="co">#&gt; [1] &quot;1&quot;      &quot;canada&quot; &quot;3&quot;</span>
<span class="kw">class</span>(x)
<span class="co">#&gt; [1] &quot;character&quot;</span></code></pre></div>
<p>R <em>coerció</em> los datos en caracteres. Supuso que debido a que pones una cadena de caracteres en el vector, querías decir que el 1 y el 3 en realidad son cadenas de caracteres <code>&quot;1&quot;</code> y &quot; <code>3</code>&amp;Quot;. El hecho de que ni siquiera se emita una advertencia es un ejemplo de cómo la coerción puede causar muchos errores inadvertidos en R.</p>
<p>R también ofrece funciones para cambiar de un tipo a otro. Por ejemplo, puede convertir números en caracteres con:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span>
y &lt;-<span class="st"> </span><span class="kw">as.character</span>(x)
y
<span class="co">#&gt; [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</span></code></pre></div>
<p>Puedes devolverlo con <code>as.numeric</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.numeric</span>(y)
<span class="co">#&gt; [1] 1 2 3 4 5</span></code></pre></div>
<p>Esta función es realmente bastante útil ya que los conjuntos de datos que incluyen números como cadenas de caracteres son comunes.</p>
<div id="no-disponible-na" class="section level3">
<h3><span class="header-section-number">2.7.1</span> No disponible (NA)</h3>
<p>Cuando una función intenta forzar un tipo a otro y encuentra un caso imposible, generalmente nos da una advertencia y convierte la entrada en un valor especial llamado <code>NA</code> para “no disponible”. Por ejemplo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;3&quot;</span>)
<span class="kw">as.numeric</span>(x)
<span class="co">#&gt; Warning: NAs introduced by coercion</span>
<span class="co">#&gt; [1]  1 NA  3</span></code></pre></div>
<p>R no tiene ninguna conjetura sobre el número que desea cuando escribe <code>b</code>, por lo que no lo intenta.</p>
<p>Como científico de datos, se encontrará con el <code>NA</code> a menudo, como se usan generalmente para datos faltantes, un problema común en los conjuntos de datos del mundo real.</p>
</div>
</div>
<div id="ejercicios-2" class="section level2">
<h2><span class="header-section-number">2.8</span> Ejercicios</h2>
<p>1. Usa la función <code>c</code> para crear un vector con las temperaturas altas promedio en enero para Beijing, Lagos, París, Río de Janeiro, San Juan y Toronto, que son 35, 88, 42, 84, 81 y 30 grados Fahrenheit. Llamar al objeto <code>temp</code>.</p>
<p>2. Ahora crea un vector con los nombres de las ciudades y llama al objeto <code>city</code>.</p>
<p>3. Utilizar el <code>names</code> función y los objetos definidos en los ejercicios anteriores para asociar los datos de temperatura con su ciudad correspondiente.</p>
<p>4. Utilizar el <code>[</code> y <code>:</code> operadores para acceder a la temperatura de las tres primeras ciudades de la lista.</p>
<p>5. Utilizar el <code>[</code> operador para acceder a la temperatura de París y San Juan.</p>
<p>6. Utilizar el <code>:</code> operador para crear una secuencia de números <span class="math inline">\(12,13,14,\dots,73\)</span>.</p>
<p>7. Cree un vector que contenga todos los números impares positivos menores que 100.</p>
<p>8. Cree un vector de números que comience en 6, no pase 55 y agregue números en incrementos de 4/7: 6, 6 + 4/7, 6 + 8/7, y así sucesivamente. ¿Cuántos números tiene la lista? Sugerencia: uso <code>seq</code> y <code>length</code>.</p>
<p>9. ¿Cuál es la clase del siguiente objeto? <code>a &lt;- seq(1, 10, 0.5)</code>?</p>
<p>10. ¿Cuál es la clase del siguiente objeto? <code>a &lt;- seq(1, 10)</code>?</p>
<p>11. La clase de <code>class(a&lt;-1)</code> es numérico, no entero. R por defecto es numérico y para forzar un número entero, debe agregar la letra <code>L</code>. Confirme que la clase de <code>1L</code> es entero</p>
<p>12. Defina el siguiente vector:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;5&quot;</span>)</code></pre></div>
<p>y obligarlo a obtener enteros.</p>
</div>
<div id="clasificacion" class="section level2">
<h2><span class="header-section-number">2.9</span> Clasificación</h2>
<p>Ahora que hemos dominado algunos conocimientos básicos de R, intentemos obtener algunos conocimientos sobre la seguridad de los diferentes estados en el contexto de los asesinatos con armas de fuego.</p>
<div id="sort" class="section level3">
<h3><span class="header-section-number">2.9.1</span> <code>sort</code></h3>
<p>Digamos que queremos clasificar los estados desde el menor hasta la mayoría de los asesinatos con armas de fuego. La función <code>sort</code> ordena un vector en orden creciente. Por lo tanto, podemos ver la mayor cantidad de asesinatos de armas escribiendo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dslabs)
<span class="kw">data</span>(murders)
<span class="kw">sort</span>(murders<span class="op">$</span>total)
<span class="co">#&gt;  [1]    2    4    5    5    7    8   11   12   12   16   19   21   22</span>
<span class="co">#&gt; [14]   27   32   36   38   53   63   65   67   84   93   93   97   97</span>
<span class="co">#&gt; [27]   99  111  116  118  120  135  142  207  219  232  246  250  286</span>
<span class="co">#&gt; [40]  293  310  321  351  364  376  413  457  517  669  805 1257</span></code></pre></div>
<p>Sin embargo, esto no nos da información sobre qué estados tienen qué asesinatos totales. Por ejemplo, no sabemos qué estado tenía 1257.</p>
</div>
<div id="order" class="section level3">
<h3><span class="header-section-number">2.9.2</span> <code>order</code></h3>
<p>La función <code>order</code> está más cerca de lo que queremos Toma un vector como entrada y devuelve el vector de índices que clasifica el vector de entrada. Esto puede sonar confuso, así que veamos un ejemplo simple. Podemos crear un vector y ordenarlo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">31</span>, <span class="dv">4</span>, <span class="dv">15</span>, <span class="dv">92</span>, <span class="dv">65</span>)
<span class="kw">sort</span>(x)
<span class="co">#&gt; [1]  4 15 31 65 92</span></code></pre></div>
<p>En lugar de ordenar el vector de entrada, la función <code>order</code> devuelve el índice que ordena el vector de entrada:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">index &lt;-<span class="st"> </span><span class="kw">order</span>(x)
x[index]
<span class="co">#&gt; [1]  4 15 31 65 92</span></code></pre></div>
<p>Este es el mismo resultado que el devuelto por <code>sort(x)</code>. Si miramos este índice, vemos por qué funciona:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x
<span class="co">#&gt; [1] 31  4 15 92 65</span>
<span class="kw">order</span>(x)
<span class="co">#&gt; [1] 2 3 1 5 4</span></code></pre></div>
<p>La segunda entrada de <code>x</code> es el más pequeño, entonces <code>order(x)</code> comienza con <code>2</code>. La siguiente más pequeña es la tercera entrada, por lo que la segunda entrada es <code>3</code> y así.</p>
<p>¿Cómo nos ayuda esto a ordenar los estados por asesinatos? Primero, recuerde que las entradas de vectores a las que accede <code>$</code> siga el mismo orden que las filas de la tabla. Por ejemplo, estos dos vectores que contienen nombres de estado y abreviaturas, respectivamente, se corresponden por su orden:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">murders<span class="op">$</span>state[<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]
<span class="co">#&gt; [1] &quot;Alabama&quot;    &quot;Alaska&quot;     &quot;Arizona&quot;    &quot;Arkansas&quot;   &quot;California&quot;</span>
<span class="co">#&gt; [6] &quot;Colorado&quot;</span>
murders<span class="op">$</span>abb[<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]
<span class="co">#&gt; [1] &quot;AL&quot; &quot;AK&quot; &quot;AZ&quot; &quot;AR&quot; &quot;CA&quot; &quot;CO&quot;</span></code></pre></div>
<p>Esto significa que podemos ordenar los nombres de estado por sus asesinatos totales. Primero obtenemos el índice que ordena los vectores según los totales de asesinatos y luego indexamos el vector de nombres de estado:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ind &lt;-<span class="st"> </span><span class="kw">order</span>(murders<span class="op">$</span>total)
murders<span class="op">$</span>abb[ind]
<span class="co">#&gt;  [1] &quot;VT&quot; &quot;ND&quot; &quot;NH&quot; &quot;WY&quot; &quot;HI&quot; &quot;SD&quot; &quot;ME&quot; &quot;ID&quot; &quot;MT&quot; &quot;RI&quot; &quot;AK&quot; &quot;IA&quot; &quot;UT&quot;</span>
<span class="co">#&gt; [14] &quot;WV&quot; &quot;NE&quot; &quot;OR&quot; &quot;DE&quot; &quot;MN&quot; &quot;KS&quot; &quot;CO&quot; &quot;NM&quot; &quot;NV&quot; &quot;AR&quot; &quot;WA&quot; &quot;CT&quot; &quot;WI&quot;</span>
<span class="co">#&gt; [27] &quot;DC&quot; &quot;OK&quot; &quot;KY&quot; &quot;MA&quot; &quot;MS&quot; &quot;AL&quot; &quot;IN&quot; &quot;SC&quot; &quot;TN&quot; &quot;AZ&quot; &quot;NJ&quot; &quot;VA&quot; &quot;NC&quot;</span>
<span class="co">#&gt; [40] &quot;MD&quot; &quot;OH&quot; &quot;MO&quot; &quot;LA&quot; &quot;IL&quot; &quot;GA&quot; &quot;MI&quot; &quot;PA&quot; &quot;NY&quot; &quot;FL&quot; &quot;TX&quot; &quot;CA&quot;</span></code></pre></div>
<p>Según lo anterior, California tuvo la mayor cantidad de asesinatos.</p>
</div>
<div id="max-y-which.max" class="section level3">
<h3><span class="header-section-number">2.9.3</span> <code>max</code> y <code>which.max</code></h3>
<p>Si solo estamos interesados en la entrada con el mayor valor, podemos usar <code>max</code> por el valor:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(murders<span class="op">$</span>total)
<span class="co">#&gt; [1] 1257</span></code></pre></div>
<p>y <code>which.max</code> para el índice del mayor valor:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">i_max &lt;-<span class="st"> </span><span class="kw">which.max</span>(murders<span class="op">$</span>total)
murders<span class="op">$</span>state[i_max]
<span class="co">#&gt; [1] &quot;California&quot;</span></code></pre></div>
<p>Como mínimo, podemos usar <code>min</code> y <code>which.min</code> del mismo modo.</p>
<p>¿Significa esto que California es el estado más peligroso? En una próxima sección, argumentamos que deberíamos considerar las tasas en lugar de los totales. Antes de hacer eso, presentamos una última función relacionada con el orden: <code>rank</code>.</p>
</div>
<div id="rank" class="section level3">
<h3><span class="header-section-number">2.9.4</span> <code>rank</code></h3>
<p>Aunque no se usa con tanta frecuencia como <code>order</code> y <code>sort</code>, la función <code>rank</code> también está relacionado con el orden y puede ser útil. Para cualquier vector dado, devuelve un vector con el rango de la primera entrada, segunda entrada, etc., del vector de entrada. Aquí hay un ejemplo simple:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">31</span>, <span class="dv">4</span>, <span class="dv">15</span>, <span class="dv">92</span>, <span class="dv">65</span>)
<span class="kw">rank</span>(x)
<span class="co">#&gt; [1] 3 1 2 5 4</span></code></pre></div>
<p>Para resumir, veamos los resultados de las tres funciones que hemos introducido:</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
original
</th>
<th style="text-align:right;">
sort
</th>
<th style="text-align:right;">
order
</th>
<th style="text-align:right;">
rank
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
31
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
31
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
</tr>
</tbody>
</table>
</div>
<div id="cuidado-con-el-reciclaje" class="section level3">
<h3><span class="header-section-number">2.9.5</span> Cuidado con el reciclaje</h3>
<p>Otra fuente común de errores inadvertidos en R es el uso de <em>recycling</em>. Vimos que los vectores se agregan por elementos. Entonces, si los vectores no coinciden en longitud, es natural suponer que deberíamos obtener un error. Pero nosotros no. Note lo que pasa:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)
y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>)
x<span class="op">+</span>y
<span class="co">#&gt; Warning in x + y: longer object length is not a multiple of shorter</span>
<span class="co">#&gt; object length</span>
<span class="co">#&gt; [1] 11 22 33 41 52 63 71</span></code></pre></div>
<p>Recibimos una advertencia, pero no hay error. Para la salida, R ha reciclado los números en <code>x</code>. Observe el último dígito de números en la salida.</p>
</div>
</div>
<div id="ejercicios-3" class="section level2">
<h2><span class="header-section-number">2.10</span> Ejercicios</h2>
<p>Para estos ejercicios usaremos el conjunto de datos de asesinatos de Estados Unidos. Asegúrese de cargarlo antes de comenzar.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dslabs)
<span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)</code></pre></div>
<p>1. Utilizar el <code>$</code> operador para acceder a los datos del tamaño de la población y almacenarlos como el objeto <code>pop</code>. Luego usa el <code>sort</code> función para redefinir <code>pop</code> para que esté ordenado Finalmente, usa el <code>[</code> operador para informar el tamaño de población más pequeño.</p>
<p>2. Ahora, en lugar del tamaño de población más pequeño, encuentre el índice de la entrada con el tamaño de población más pequeño. Sugerencia: uso <code>order</code> en lugar de <code>sort</code>.</p>
<p>3. Realmente podemos realizar la misma operación que en el ejercicio anterior usando la función <code>which.min</code>. Escribe una línea de código que haga esto.</p>
<p>4. Ahora sabemos cuán pequeño es el estado más pequeño y sabemos qué fila lo representa. Que estado es Definir una variable. <code>states</code> ser los nombres de estado de la <code>murders</code> marco de datos. Informe el nombre del estado con la población más pequeña.</p>
<p>5. Puede crear un marco de datos utilizando el <code>data.frame</code> función. Aquí hay un ejemplo rápido:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">temp &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">35</span>, <span class="dv">88</span>, <span class="dv">42</span>, <span class="dv">84</span>, <span class="dv">81</span>, <span class="dv">30</span>)
city &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Beijing&quot;</span>, <span class="st">&quot;Lagos&quot;</span>, <span class="st">&quot;Paris&quot;</span>, <span class="st">&quot;Rio de Janeiro&quot;</span>,
<span class="st">&quot;San Juan&quot;</span>, <span class="st">&quot;Toronto&quot;</span>)
city_temps &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name =</span> city, <span class="dt">temperature =</span> temp)</code></pre></div>
<p>Utilizar el <code>rank</code> función para determinar el rango de población de cada estado desde el tamaño de población más pequeño hasta el más grande. Guarde estos rangos en un objeto llamado <code>ranks</code>, luego cree un marco de datos con el nombre del estado y su rango. Llamar al marco de datos <code>my_df</code>.</p>
<p>6. Repita el ejercicio anterior, pero esta vez ordene <code>my_df</code> para que los estados se ordenen de menos poblados a más poblados. Sugerencia: crea un objeto <code>ind</code> que almacena los índices necesarios para ordenar los valores de la población. Luego use el operador de soporte <code>[</code> para reordenar cada columna en el marco de datos.</p>
<p>7. Los <code>na_example</code> el vector representa una serie de recuentos. Puede examinar rápidamente el objeto usando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;na_example&quot;</span>)
<span class="kw">str</span>(na_example)
<span class="co">#&gt;  int [1:1000] 2 1 3 2 1 3 1 4 3 2 ...</span></code></pre></div>
<p>Sin embargo, cuando calculamos el promedio con la función <code>mean</code>, obtenemos un <code>NA</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(na_example)
<span class="co">#&gt; [1] NA</span></code></pre></div>
<p>Los <code>is.na</code> la función devuelve un vector lógico que nos dice qué entradas son <code>NA</code>. Asigne este vector lógico a un objeto llamado <code>ind</code> y determina cuantos <code>NA</code> s hace <code>na_example</code> tener.</p>
<p>8. Ahora calcule el promedio nuevamente, pero solo para las entradas que no son <code>NA</code>. Pista: recuerda el <code>!</code> operador.</p>
</div>
<div id="aritmetica-de-vectores" class="section level2">
<h2><span class="header-section-number">2.11</span> Aritmética de vectores</h2>
<p>California tuvo la mayor cantidad de asesinatos, pero ¿esto significa que es el estado más peligroso? ¿Qué pasa si solo tiene muchas más personas que cualquier otro estado? Podemos confirmar rápidamente que California tiene la mayor población:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dslabs)
<span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)
murders<span class="op">$</span>state[<span class="kw">which.max</span>(murders<span class="op">$</span>population)]
<span class="co">#&gt; [1] &quot;California&quot;</span></code></pre></div>
<p>con más de 37 millones de habitantes Por lo tanto, es injusto comparar los totales si estamos interesados en saber qué tan seguro es el estado. Lo que realmente deberíamos calcular son los asesinatos per cápita. Los informes que describimos en la sección motivadora utilizaron asesinatos por cada 100,000 como la unidad. Para calcular esta cantidad, las poderosas capacidades aritméticas de vectores de R son útiles.</p>
<div id="reescalando-un-vector" class="section level3">
<h3><span class="header-section-number">2.11.1</span> Reescalando un vector</h3>
<p>En R, las operaciones aritméticas en vectores ocurren <em>elemento-sabio</em>. Para un ejemplo rápido, supongamos que tenemos la altura en pulgadas:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">inches &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">69</span>, <span class="dv">62</span>, <span class="dv">66</span>, <span class="dv">70</span>, <span class="dv">70</span>, <span class="dv">73</span>, <span class="dv">67</span>, <span class="dv">73</span>, <span class="dv">67</span>, <span class="dv">70</span>)</code></pre></div>
<p>y quiero convertir a centímetros. Note lo que sucede cuando multiplicamos <code>inches</code> por 2.54:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">inches <span class="op">*</span><span class="st"> </span><span class="fl">2.54</span>
<span class="co">#&gt;  [1] 175 157 168 178 178 185 170 185 170 178</span></code></pre></div>
<p>En la línea de arriba, multiplicamos cada elemento por 2.54. Del mismo modo, si para cada entrada queremos calcular cuántas pulgadas más alto o más corto que 69 pulgadas, la altura promedio para los hombres, podemos restarlo de cada entrada de esta manera:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">inches <span class="op">-</span><span class="st"> </span><span class="dv">69</span>
<span class="co">#&gt;  [1]  0 -7 -3  1  1  4 -2  4 -2  1</span></code></pre></div>
</div>
<div id="dos-vectores" class="section level3">
<h3><span class="header-section-number">2.11.2</span> Dos vectores</h3>
<p>Si tenemos dos vectores de la misma longitud y los sumamos en R, se agregarán entrada por entrada de la siguiente manera:</p>
<p><span class="math display">\[
\begin{pmatrix}
a\\
b\\
c\\
d
\end{pmatrix}
+
\begin{pmatrix}
e\\
f\\
g\\
h
\end{pmatrix}
=
\begin{pmatrix}
a +e\\
b + f\\
c + g\\
d + h
\end{pmatrix}
\]</span></p>
<p>Lo mismo vale para otras operaciones matemáticas, como <code>-</code>, <code>*</code> y <code>/</code>.</p>
<p>Esto implica que para calcular las tasas de asesinatos simplemente podemos escribir:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">murder_rate &lt;-<span class="st"> </span>murders<span class="op">$</span>total<span class="op">/</span><span class="st"> </span>murders<span class="op">$</span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span></code></pre></div>
<p>Una vez que hacemos esto, notamos que California ya no está cerca de la parte superior de la lista. De hecho, podemos usar lo que hemos aprendido para ordenar a los estados por tasa de asesinatos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">murders<span class="op">$</span>abb[<span class="kw">order</span>(murder_rate)]
<span class="co">#&gt;  [1] &quot;VT&quot; &quot;NH&quot; &quot;HI&quot; &quot;ND&quot; &quot;IA&quot; &quot;ID&quot; &quot;UT&quot; &quot;ME&quot; &quot;WY&quot; &quot;OR&quot; &quot;SD&quot; &quot;MN&quot; &quot;MT&quot;</span>
<span class="co">#&gt; [14] &quot;CO&quot; &quot;WA&quot; &quot;WV&quot; &quot;RI&quot; &quot;WI&quot; &quot;NE&quot; &quot;MA&quot; &quot;IN&quot; &quot;KS&quot; &quot;NY&quot; &quot;KY&quot; &quot;AK&quot; &quot;OH&quot;</span>
<span class="co">#&gt; [27] &quot;CT&quot; &quot;NJ&quot; &quot;AL&quot; &quot;IL&quot; &quot;OK&quot; &quot;NC&quot; &quot;NV&quot; &quot;VA&quot; &quot;AR&quot; &quot;TX&quot; &quot;NM&quot; &quot;CA&quot; &quot;FL&quot;</span>
<span class="co">#&gt; [40] &quot;TN&quot; &quot;PA&quot; &quot;AZ&quot; &quot;GA&quot; &quot;MS&quot; &quot;MI&quot; &quot;DE&quot; &quot;SC&quot; &quot;MD&quot; &quot;MO&quot; &quot;LA&quot; &quot;DC&quot;</span></code></pre></div>
</div>
</div>
<div id="ejercicios-4" class="section level2">
<h2><span class="header-section-number">2.12</span> Ejercicios</h2>
<p>1. Anteriormente creamos este marco de datos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">temp &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">35</span>, <span class="dv">88</span>, <span class="dv">42</span>, <span class="dv">84</span>, <span class="dv">81</span>, <span class="dv">30</span>)
city &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Beijing&quot;</span>, <span class="st">&quot;Lagos&quot;</span>, <span class="st">&quot;Paris&quot;</span>, <span class="st">&quot;Rio de Janeiro&quot;</span>,
<span class="st">&quot;San Juan&quot;</span>, <span class="st">&quot;Toronto&quot;</span>)
city_temps &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name =</span> city, <span class="dt">temperature =</span> temp)</code></pre></div>
<p>Vuelva a crear el marco de datos utilizando el código anterior, pero agregue una línea que convierta la temperatura de Fahrenheit a Celsius. La conversión es <span class="math inline">\(C = \frac{5}{9} \times (F - 32)\)</span>.</p>
<p>2. ¿Cuál es la siguiente suma? <span class="math inline">\(1+1/2^2 + 1/3^2 + \dots 1/100^2\)</span>? Sugerencia: gracias a Euler, sabemos que debería estar cerca de <span class="math inline">\(\pi^2/6\)</span>.</p>
<p>3. Calcule la tasa de asesinatos por cada 100,000 para cada estado y almacénela en el objeto <code>murder_rate</code>. Luego calcule la tasa promedio de asesinatos para los EE. UU. Con la función <code>mean</code>. ¿Cuál es el promedio?</p>
</div>
<div id="indexacion" class="section level2">
<h2><span class="header-section-number">2.13</span> Indexación</h2>
<p>R proporciona una forma poderosa y conveniente de indexar vectores. Podemos, por ejemplo, subconjuntar un vector en función de las propiedades de otro vector. En esta sección, continuamos trabajando con nuestro ejemplo de asesinatos en EE. UU., Que podemos cargar así:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dslabs)
<span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)</code></pre></div>
<div id="subconjunto-con-logicas" class="section level3">
<h3><span class="header-section-number">2.13.1</span> Subconjunto con lógicas</h3>
<p>Ahora hemos calculado la tasa de asesinatos usando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">murder_rate &lt;-<span class="st"> </span>murders<span class="op">$</span>total<span class="op">/</span><span class="st"> </span>murders<span class="op">$</span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span></code></pre></div>
<p>Imagine que se muda de Italia donde, según un informe de noticias de ABC, la tasa de asesinatos es de solo 0.71 por 100,000. Preferiría mudarse a un estado con una tasa de homicidios similar. Otra característica poderosa de R es que podemos usar lógicas para indexar vectores. Si comparamos un vector con un solo número, en realidad realiza la prueba para cada entrada. El siguiente es un ejemplo relacionado con la pregunta anterior:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ind &lt;-<span class="st"> </span>murder_rate <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.71</span></code></pre></div>
<p>Si en cambio queremos saber si un valor es menor o igual, podemos usar:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ind &lt;-<span class="st"> </span>murder_rate <span class="op">&lt;=</span><span class="st"> </span><span class="fl">0.71</span></code></pre></div>
<p>Tenga en cuenta que recuperamos un vector lógico con <code>TRUE</code> para cada entrada menor o igual a 0.71. Para ver qué estados son estos, podemos aprovechar el hecho de que los vectores pueden indexarse con lógicos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">murders<span class="op">$</span>state[ind]
<span class="co">#&gt; [1] &quot;Hawaii&quot;        &quot;Iowa&quot;          &quot;New Hampshire&quot; &quot;North Dakota&quot; </span>
<span class="co">#&gt; [5] &quot;Vermont&quot;</span></code></pre></div>
<p>Para contar cuántos son VERDADEROS, la función <code>sum</code> devuelve la suma de las entradas de un vector y los vectores lógicos se <em>coerced</em> a numéricos con <code>TRUE</code> codificado como 1 y <code>FALSE</code> como 0. Así podemos contar los estados usando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(ind)
<span class="co">#&gt; [1] 5</span></code></pre></div>
</div>
<div id="operadores-logicos" class="section level3">
<h3><span class="header-section-number">2.13.2</span> Operadores logicos</h3>
<p>Supongamos que nos gustan las montañas y queremos mudarnos a un estado seguro en la región occidental del país. Queremos que la tasa de asesinatos sea como máximo 1. En este caso, queremos que dos cosas diferentes sean ciertas. Aquí podemos usar el operador lógico <em>y</em>, que en R se representa con <code>&amp;</code>. Esta operación da como resultado <code>TRUE</code> solo cuando ambas lógicas son <code>TRUE</code>. Para ver esto, considere este ejemplo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">TRUE</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="ot">FALSE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span>
<span class="co">#&gt; [1] FALSE</span></code></pre></div>
<p>Para nuestro ejemplo, podemos formar dos lógicas:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">west &lt;-<span class="st"> </span>murders<span class="op">$</span>region <span class="op">==</span><span class="st"> &quot;West&quot;</span>
safe &lt;-<span class="st"> </span>murder_rate <span class="op">&lt;=</span><span class="st"> </span><span class="dv">1</span></code></pre></div>
<p>y podemos usar el <code>&amp;</code> para obtener un vector de lógicas que nos dice qué estados satisfacen ambas condiciones:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ind &lt;-<span class="st"> </span>safe <span class="op">&amp;</span><span class="st"> </span>west
murders<span class="op">$</span>state[ind]
<span class="co">#&gt; [1] &quot;Hawaii&quot;  &quot;Idaho&quot;   &quot;Oregon&quot;  &quot;Utah&quot;    &quot;Wyoming&quot;</span></code></pre></div>
</div>
<div id="which" class="section level3">
<h3><span class="header-section-number">2.13.3</span> <code>which</code></h3>
<p>Supongamos que queremos ver la tasa de asesinatos de California. Para este tipo de operación, es conveniente convertir vectores de lógicos en índices en lugar de mantener largos vectores de lógicos. La función <code>which</code> nos dice qué entradas de un vector lógico son VERDADERAS. Entonces podemos escribir:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ind &lt;-<span class="st"> </span><span class="kw">which</span>(murders<span class="op">$</span>state <span class="op">==</span><span class="st"> &quot;California&quot;</span>)
murder_rate[ind]
<span class="co">#&gt; [1] 3.37</span></code></pre></div>
</div>
<div id="match" class="section level3">
<h3><span class="header-section-number">2.13.4</span> <code>match</code></h3>
<p>Si en lugar de un solo estado queremos averiguar las tasas de homicidio de varios estados, digamos Nueva York, Florida y Texas, podemos usar la función <code>match</code>. Esta función nos dice qué índices de un segundo vector coinciden con cada una de las entradas de un primer vector:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ind &lt;-<span class="st"> </span><span class="kw">match</span>(<span class="kw">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Florida&quot;</span>, <span class="st">&quot;Texas&quot;</span>), murders<span class="op">$</span>state)
ind
<span class="co">#&gt; [1] 33 10 44</span></code></pre></div>
<p>Ahora podemos ver las tasas de asesinatos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">murder_rate[ind]
<span class="co">#&gt; [1] 2.67 3.40 3.20</span></code></pre></div>
</div>
<div id="in" class="section level3">
<h3><span class="header-section-number">2.13.5</span> <code>%in%</code></h3>
<p>Si en lugar de un índice queremos una lógica que nos diga si cada elemento de un primer vector está en un segundo, podemos usar la función <code>%in%</code>. Imaginemos que no está seguro de si Boston, Dakota y Washington son estados. Puedes averiguar así:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="st">&quot;Boston&quot;</span>, <span class="st">&quot;Dakota&quot;</span>, <span class="st">&quot;Washington&quot;</span>) <span class="op">%in%</span><span class="st"> </span>murders<span class="op">$</span>state
<span class="co">#&gt; [1] FALSE FALSE  TRUE</span></code></pre></div>
<p>Tenga en cuenta que estaremos usando <code>%in%</code> a menudo a lo largo del libro.</p>
<p><strong>Avanzado</strong>: hay una conexión entre <code>match</code> y <code>%in%</code> mediante <code>which</code>. Para ver esto, observe que las siguientes dos líneas producen el mismo índice (aunque en diferente orden):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">match</span>(<span class="kw">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Florida&quot;</span>, <span class="st">&quot;Texas&quot;</span>), murders<span class="op">$</span>state)
<span class="co">#&gt; [1] 33 10 44</span>
<span class="kw">which</span>(murders<span class="op">$</span>state<span class="op">%in%</span><span class="kw">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Florida&quot;</span>, <span class="st">&quot;Texas&quot;</span>))
<span class="co">#&gt; [1] 10 33 44</span></code></pre></div>
</div>
</div>
<div id="ejercicios-5" class="section level2">
<h2><span class="header-section-number">2.14</span> Ejercicios</h2>
<p>Comience cargando la biblioteca y los datos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dslabs)
<span class="kw">data</span>(murders)</code></pre></div>
<p>1. Calcule la tasa de asesinatos por cada 100,000 para cada estado y almacénela en un objeto llamado <code>murder_rate</code>. Luego use operadores lógicos para crear un vector lógico llamado <code>low</code> eso nos dice qué entradas de <code>murder_rate</code> son inferiores a 1.</p>
<p>2. Ahora use los resultados del ejercicio anterior y la función <code>which</code> para determinar los índices de <code>murder_rate</code> asociado con valores inferiores a 1.</p>
<p>3. Use los resultados del ejercicio anterior para informar los nombres de los estados con tasas de asesinatos inferiores a 1.</p>
<p>4. Ahora extienda el código de los ejercicios 2 y 3 para informar los estados del noreste con tasas de homicidios inferiores a 1. Sugerencia: use el vector lógico previamente definido <code>low</code> y el operador lógico <code>&amp;</code>.</p>
<p>5. En un ejercicio anterior, calculamos la tasa de homicidios para cada estado y el promedio de estos números. ¿Cuántos estados están por debajo del promedio?</p>
<p>6. Use la función de coincidencia para identificar los estados con abreviaturas AK, MI e IA. Sugerencia: comience definiendo un índice de las entradas de <code>murders$abb</code> que coinciden con las tres abreviaturas, luego use el <code>[</code> operador para extraer los estados.</p>
<p>7. Utilizar el <code>%in%</code> operador para crear un vector lógico que responda a la pregunta: ¿cuáles de las siguientes son abreviaturas reales: MA, ME, MI, MO, MU?</p>
<p>8. Extienda el código que usó en el ejercicio 7 para informar la entrada que no es <strong>no</strong> una abreviatura real. Sugerencia: use el <code>!</code> operador, que gira <code>FALSE</code> dentro <code>TRUE</code> y viceversa, entonces <code>which</code> para obtener un índice.</p>
</div>
<div id="parcelas-basicas" class="section level2">
<h2><span class="header-section-number">2.15</span> Parcelas básicas</h2>
<p>En el capitulo <a href="#ggplot2"><strong>??</strong></a> describimos un paquete complementario que proporciona un enfoque poderoso para producir gráficos en R. Luego tenemos una parte completa sobre la visualización de datos en la que proporcionamos muchos ejemplos. Aquí describimos brevemente algunas de las funciones que están disponibles en una instalación básica de R.</p>
<div id="plot" class="section level3">
<h3><span class="header-section-number">2.15.1</span> <code>plot</code></h3>
<p>Los <code>plot</code> la función se puede utilizar para hacer diagramas de dispersión. Aquí hay una trama de asesinatos totales versus población.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span>murders<span class="op">$</span>population<span class="op">/</span><span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="dv">6</span>
y &lt;-<span class="st"> </span>murders<span class="op">$</span>total
<span class="kw">plot</span>(x, y)</code></pre></div>
<p><img src="libro_files/figure-html/first-plot-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>Para una trama rápida que evita el acceso a las variables dos veces, podemos usar el <code>with</code> función:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">with</span>(murders, <span class="kw">plot</span>(population, total))</code></pre></div>
<p>La función <code>with</code> vamos a usar el <code>murders</code> nombres de columna en el <code>plot</code> función. También funciona con cualquier marco de datos y cualquier función.</p>
</div>
<div id="hist" class="section level3">
<h3><span class="header-section-number">2.15.2</span> <code>hist</code></h3>
<p>Describiremos los histogramas en relación con las distribuciones en la parte de visualización de datos del libro. Aquí simplemente notaremos que los histogramas son un poderoso resumen gráfico de una lista de números que le brinda una visión general de los tipos de valores que tiene. Podemos hacer un histograma de nuestras tasas de asesinatos simplemente escribiendo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">with</span>(murders, total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span>)
<span class="kw">hist</span>(x)</code></pre></div>
<p><img src="libro_files/figure-html/r-base-hist-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>Podemos ver que hay una amplia gama de valores con la mayoría de ellos entre 2 y 3 y un caso muy extremo con una tasa de asesinatos de más de 15:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">murders<span class="op">$</span>state[<span class="kw">which.max</span>(x)]
<span class="co">#&gt; [1] &quot;District of Columbia&quot;</span></code></pre></div>
</div>
<div id="boxplot" class="section level3">
<h3><span class="header-section-number">2.15.3</span> <code>boxplot</code></h3>
<p>Los diagramas de caja también se describirán en la parte de visualización de datos del libro. Proporcionan un resumen más conciso que los histogramas, pero son más fáciles de apilar con otros diagramas de caja. Por ejemplo, aquí podemos usarlos para comparar las diferentes regiones:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">murders<span class="op">$</span>rate &lt;-<span class="st"> </span><span class="kw">with</span>(murders, total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span>)
<span class="kw">boxplot</span>(rate<span class="op">~</span>region, <span class="dt">data =</span> murders)</code></pre></div>
<p><img src="libro_files/figure-html/r-base-boxplot-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>Podemos ver que el Sur tiene tasas de asesinatos más altas que las otras tres regiones.</p>
</div>
<div id="image" class="section level3">
<h3><span class="header-section-number">2.15.4</span> <code>image</code></h3>
<p>La función de imagen muestra los valores en una matriz usando color. Aquí hay un ejemplo rápido:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">120</span>, <span class="dv">12</span>, <span class="dv">10</span>)
<span class="kw">image</span>(x)</code></pre></div>
<p><img src="libro_files/figure-html/image-first-example-1.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="ejercicios-6" class="section level2">
<h2><span class="header-section-number">2.16</span> Ejercicios</h2>
<p>1. Hicimos una trama de asesinatos totales versus población y notamos una fuerte relación. No es sorprendente que los estados con poblaciones más grandes hayan tenido más asesinatos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dslabs)
<span class="kw">data</span>(murders)
population_in_millions &lt;-<span class="st"> </span>murders<span class="op">$</span>population<span class="op">/</span><span class="dv">10</span><span class="op">^</span><span class="dv">6</span>
total_gun_murders &lt;-<span class="st"> </span>murders<span class="op">$</span>total
<span class="kw">plot</span>(population_in_millions, total_gun_murders)</code></pre></div>
<p>Tenga en cuenta que muchos estados tienen poblaciones inferiores a 5 millones y están agrupados. Podemos obtener más información al hacer este diagrama en la escala logarítmica. Transforme las variables usando el <code>log10</code> transformación y luego trazarlos.</p>
<p>2. Crea un histograma de las poblaciones estatales.</p>
<p>3. Generar diagramas de caja de las poblaciones estatales por región.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="10">
<li id="fn10"><p><a href="https://rstudio.cloud" class="uri">https://rstudio.cloud</a><a href="r-basics.html#fnref10">↩</a></p></li>
<li id="fn11"><p><a href="https://rafalab.github.io/dsbook/installing-r-rstudio.html" class="uri">https://rafalab.github.io/dsbook/installing-r-rstudio.html</a><a href="r-basics.html#fnref11">↩</a></p></li>
<li id="fn12"><p><a href="http://abcnews.go.com/blogs/headlines/2012/12/us-gun-ownership" class="uri">http://abcnews.go.com/blogs/headlines/2012/12/us-gun-ownership</a> -homicide-rate-superior-que-otros-países-desarrollados/<a href="r-basics.html#fnref12">↩</a></p></li>
<li id="fn13"><p><a href="http://adv-r.had.co.nz/Style.html" class="uri">http://adv-r.had.co.nz/Style.html</a><a href="r-basics.html#fnref13">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conceptos-basicos-de-programacion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dslibro/edit/master/R/R-basics.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
